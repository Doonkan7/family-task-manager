# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∑–∞–¥–∞—á

## üöÄ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç Tasks.jsx** - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏
‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase Storage
‚úÖ **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á** - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∂–∏–∑–Ω–∏ –∑–∞–¥–∞—á–∏
‚úÖ **Mobile-first –¥–∏–∑–∞–π–Ω** - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚úÖ **–ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã** - –ø–ª–∞–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Å–µ–º–µ–π** - –ø–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

## üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Tasks.jsx

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üìã –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- üéØ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∑–∞–¥–∞—á (pending ‚Üí in_progress ‚Üí completed ‚Üí confirmed/rejected)
- üì∏ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
- üéÅ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞–≥—Ä–∞–¥ (–∑–≤–µ–∑–¥–æ—á–∫–∏, –¥–µ–Ω—å–≥–∏, —ç–∫—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è)
- ‚ö° Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ Supabase
- üì± –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- üé® Minecraft/Roblox —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á:
- **pending** - –û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **in_progress** - –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **completed** - –í—ã–ø–æ–ª–Ω–µ–Ω–∞, –æ–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª–µ–º
- **confirmed** - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–º, –Ω–∞–≥—Ä–∞–¥–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∞
- **rejected** - –û—Ç–∫–ª–æ–Ω–µ–Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–º —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã

## üóÑÔ∏è –†–µ–≤–∏–∑–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∑–∞–¥–∞—á

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç–æ–ª–±—Ü–∞–º–∏ - –ø—Ä–æ–≤–µ–¥–∏—Ç–µ —Ä–µ–≤–∏–∑–∏—é –ë–î

**–ï—Å–ª–∏ —É –≤–∞—Å –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞ "column does not exist" - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–Ω —Ä–µ–≤–∏–∑–∏–∏ –Ω–∏–∂–µ!**

### üîç –ü–õ–ê–ù –ê: –†–µ–≤–∏–∑–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î (–ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å—Ç–æ–ª–±—Ü–æ–≤)

**–®–∞–≥ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí **SQL Editor**
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç `scripts/database_audit.sql`
3. –ò–∑—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Å—Ç–æ–ª–±—Ü—ã —É–∂–µ –µ—Å—Ç—å

**–®–∞–≥ 2: –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

**üìä –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ `history` –∏–º–µ–µ—Ç –ù–ï–ü–†–ê–í–ò–õ–¨–ù–£–Æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `history_id`, `reward_earned`, `duration_minutes`):
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ú–ò–ì–†–ê–¶–ò–Æ (–±–µ–∑–æ–ø–∞—Å–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ):
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: scripts/migrate_history_table.sql
```

**üÜï –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–ª–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ü–û–õ–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: scripts/fix_database_schema.sql
```

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Å—Ç–æ–ª–±—Ü—ã –Ω–∞ –º–µ—Å—Ç–µ:
SELECT column_name FROM information_schema.columns 
WHERE table_schema = 'public' AND table_name = 'history'
ORDER BY column_name;
-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: created_at, description, family_id, id, money_change, 
-- reward_id, screen_time_change, stars_change, task_id, transaction_type, user_id
```

### üìã –ü–õ–ê–ù –ë: –ß–∏—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤)

–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º **—Ç–æ—á–Ω–æ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**:

### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ SQL-—Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí **SQL Editor**
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–í–ï–°–¨** –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ —Ñ–∞–π–ª–∞ `scripts/create_tasks_schema.sql`
4. –ù–∞–∂–º–∏—Ç–µ **Run** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:**
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã: `tasks`, `rewards`, `history`
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞–≥—Ä–∞–¥
- ‚úÖ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `user_balances`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN ('tasks', 'rewards', 'history');
-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 3 —Å—Ç—Ä–æ–∫–∏
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ Storage bucket –¥–ª—è —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Storage:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
   - –ù–∞–∂–º–∏—Ç–µ **Storage** –≤ –ª–µ–≤–æ–º –º–µ–Ω—é
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Buckets**

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π bucket:**
   - –ù–∞–∂–º–∏—Ç–µ **New bucket**
   - **Bucket name:** `task-proofs` (—Ç–æ—á–Ω–æ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ!)
   - **Public:** ‚úÖ –≤–∫–ª—é—á–∏—Ç–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
   - –ù–∞–∂–º–∏—Ç–µ **Create bucket**

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ bucket
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏): 30 –¥–Ω–µ–π
   - –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–µ –∑–∞—Ö–ª–∞–º–ª—è—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è bucket:**
- –í —Å–ø–∏—Å–∫–µ buckets –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è `task-proofs`
- –°—Ç–∞—Ç—É—Å: **Public**

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è Storage

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –ë–µ–∑ —ç—Ç–∏—Ö –ø–æ–ª–∏—Ç–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ù–ï –ë–£–î–ï–¢ —Ä–∞–±–æ—Ç–∞—Ç—å!

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ SQL Editor**
2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏:**

```sql
-- –£–¥–∞–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
DROP POLICY IF EXISTS "task_proofs_upload_policy" ON storage.objects;
DROP POLICY IF EXISTS "task_proofs_select_policy" ON storage.objects;
DROP POLICY IF EXISTS "task_proofs_update_policy" ON storage.objects;
DROP POLICY IF EXISTS "task_proofs_delete_policy" ON storage.objects;

-- 1) –ü–æ–ª–∏—Ç–∏–∫–∞ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
CREATE POLICY "task_proofs_upload_policy" ON storage.objects
FOR INSERT TO authenticated
WITH CHECK (
  bucket_id = 'task-proofs'
);

-- 2) –ü–æ–ª–∏—Ç–∏–∫–∞ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤ (—Ç–æ–ª—å–∫–æ —á–ª–µ–Ω—ã —Å–µ–º—å–∏)
CREATE POLICY "task_proofs_select_policy" ON storage.objects
FOR SELECT TO authenticated
USING (
  bucket_id = 'task-proofs'
);

-- 3) –ü–æ–ª–∏—Ç–∏–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∑–∏–≤—à–∏–π –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å)
CREATE POLICY "task_proofs_update_policy" ON storage.objects
FOR UPDATE TO authenticated
USING (
  bucket_id = 'task-proofs' AND owner = auth.uid()
);

-- 4) –ü–æ–ª–∏—Ç–∏–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∑–∏–≤—à–∏–π –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å)
CREATE POLICY "task_proofs_delete_policy" ON storage.objects
FOR DELETE TO authenticated
USING (
  bucket_id = 'task-proofs' AND owner = auth.uid()
);
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∏—Ç–∏–∫:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω—ã:
SELECT policyname, cmd, qual 
FROM pg_policies 
WHERE schemaname = 'storage' 
AND tablename = 'objects' 
AND policyname LIKE '%task_proofs%';
-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 4 –ø–æ–ª–∏—Ç–∏–∫–∏
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã users –∏ families

**–í–ê–ñ–ù–û:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Tasks.jsx –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü!

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É:
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã users
SELECT id, email, role, family_id FROM public.users LIMIT 1;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã families  
SELECT family_id, family_name FROM public.families LIMIT 1;
```

**–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:**
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —Å–∫—Ä–∏–ø—Ç `scripts/supabase_policies.sql`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

### –®–∞–≥ 5: –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–¥–∞—á—É:

```sql
-- –ó–∞–º–µ–Ω–∏—Ç–µ USER_ID_–†–ï–ë–ï–ù–ö–ê, USER_ID_–†–û–î–ò–¢–ï–õ–Ø, FAMILY_ID –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
INSERT INTO public.tasks (
  title, 
  description, 
  priority, 
  assigned_to_id, 
  assigned_by_id, 
  family_id, 
  reward,
  due_date
) VALUES (
  '–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–¥–∞—á–∞: —É–±—Ä–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É',
  '–£–±—Ä–∞—Ç—å –∏–≥—Ä—É—à–∫–∏, –∑–∞—Å—Ç–µ–ª–∏—Ç—å –∫—Ä–æ–≤–∞—Ç—å, –ø—Ä–æ—Ç–µ—Ä–µ—Ç—å –ø—ã–ª—å',
  'medium',
  'USER_ID_–†–ï–ë–ï–ù–ö–ê',    -- –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID —Ä–µ–±–µ–Ω–∫–∞
  'USER_ID_–†–û–î–ò–¢–ï–õ–Ø',   -- –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID —Ä–æ–¥–∏—Ç–µ–ª—è  
  'FAMILY_ID',          -- –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π family_id
  '{"stars": 5, "money": 100, "screen_time": 30}',
  NOW() + INTERVAL '7 days'
);
```

**–ö–∞–∫ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–µ ID:**
```sql
-- –ù–∞–π—Ç–∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–∞—à–µ–π —Å–µ–º—å–∏:
SELECT id, email, role, family_id FROM public.users WHERE family_id IS NOT NULL;

-- –ù–∞–π—Ç–∏ family_id:
SELECT family_id, family_name FROM public.families;
```

### –®–∞–≥ 6: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É:**

```sql
-- 1) –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
SELECT 'tables_check' as test, count(*) as count 
FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN ('users', 'families', 'tasks', 'rewards', 'history');
-- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 5 —Ç–∞–±–ª–∏—Ü

-- 2) –ü—Ä–æ–≤–µ—Ä–∫–∞ RLS –ø–æ–ª–∏—Ç–∏–∫ –¥–ª—è tasks
SELECT 'tasks_policies' as test, count(*) as count 
FROM pg_policies 
WHERE schemaname = 'public' AND tablename = 'tasks';
-- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –º–∏–Ω–∏–º—É–º 3 –ø–æ–ª–∏—Ç–∏–∫–∏

-- 3) –ü—Ä–æ–≤–µ—Ä–∫–∞ Storage bucket
SELECT 'storage_bucket' as test, 
       CASE WHEN id = 'task-proofs' THEN 'OK' ELSE 'ERROR' END as status
FROM storage.buckets WHERE id = 'task-proofs';
-- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: status = 'OK'

-- 4) –ü—Ä–æ–≤–µ—Ä–∫–∞ Storage –ø–æ–ª–∏—Ç–∏–∫
SELECT 'storage_policies' as test, count(*) as count 
FROM pg_policies 
WHERE schemaname = 'storage' 
AND tablename = 'objects' 
AND policyname LIKE '%task_proofs%';
-- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 4 –ø–æ–ª–∏—Ç–∏–∫–∏
```

**–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! ‚úÖ**

### üìã –ö—Ä–∞—Ç–∫–∏–π —á–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Supabase

- [ ] **–®–∞–≥ 1:** SQL-—Å—Ö–µ–º–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ (`create_tasks_schema.sql`)
- [ ] **–®–∞–≥ 2:** Storage bucket `task-proofs` —Å–æ–∑–¥–∞–Ω –∏ –ø—É–±–ª–∏—á–Ω—ã–π
- [ ] **–®–∞–≥ 3:** 4 –ø–æ–ª–∏—Ç–∏–∫–∏ Storage –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] **–®–∞–≥ 4:** –¢–∞–±–ª–∏—Ü—ã `users` –∏ `families` —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- [ ] **–®–∞–≥ 5:** –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] **–®–∞–≥ 6:** –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

**–ì–¥–µ –Ω–∞–π—Ç–∏ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **URL** ‚Üí `VITE_SUPABASE_URL`
   - **anon key** ‚Üí `VITE_SUPABASE_ANON_KEY`

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:** –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:** –¢–∞–±–ª–∏—Ü—ã `users` –∏ `families` –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Profile.jsx` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–º—å–µ–π

### –ü–æ—Ä—è–¥–æ–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:
1. –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`scripts/supabase_policies.sql`)
2. **‚Üí –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞—á (—Ç–µ–∫—É—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)**
3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ParentConfirm.jsx (—Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø)
4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Balance.jsx (—ç—Ç–∞–ø 7)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Tasks.jsx –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! –°–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó:

1. **ParentConfirm.jsx** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –ø–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é –∑–∞–¥–∞—á
2. **Balance.jsx** - —Å–∏—Å—Ç–µ–º–∞ –±–∞–ª–∞–Ω—Å–∞ –∏ –Ω–∞–≥—Ä–∞–¥
3. **Analytics.jsx** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

## üìö –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤–µ–¥–µ–Ω–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º Family Task Manager —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏ –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –≤—Å–µ–º –∞—Å–ø–µ–∫—Ç–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

#### üìù –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

**1. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ:**
- –í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JSDoc —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π:

```javascript
/**
 * –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∑–∞–¥–∞—á–∏ –≤ Supabase Storage
 * @param {string} taskId - ID –∑–∞–¥–∞—á–∏
 * @param {File} file - –§–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
 * @returns {Object} –û–±—ä–µ–∫—Ç —Å –ø—É—Ç–µ–º –∏ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ñ–∞–π–ª
 */
const uploadProofPhoto = async (taskId, file) => {
  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
  const fileExt = file.name.split('.').pop()
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

**2. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º:**
```javascript
/* –§–∞–π–ª: src/components/Tasks.jsx */
/* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
/* –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
   - Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Supabase
*/
```

#### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**1. –§–∞–π–ª ARCHITECTURE.md (—Å–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞):**
- –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –î–∏–∞–≥—Ä–∞–º–º—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**2. –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
- ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- –û–ø–∏—Å–∞–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è RLS –ø–æ–ª–∏—Ç–∏–∫
- –ü—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

#### üìã API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**1. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Supabase API:**
- –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Supabase
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (RLS)

**2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–µ API:**
- Props –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –°–æ–±—ã—Ç–∏—è –∏ –∫–æ–ª–ª–±—ç–∫–∏
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### üîÑ –ü—Ä–æ—Ü–µ—Å—Å—ã –∏ workflow

**1. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞—á:**
```
pending ‚Üí in_progress ‚Üí completed ‚Üí confirmed/rejected
     ‚Üì         ‚Üì           ‚Üì            ‚Üì
  –°–æ–∑–¥–∞–Ω–∞   –ù–∞—á–∞—Ç–∞    –í—ã–ø–æ–ª–Ω–µ–Ω–∞   –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–º
```

**2. –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥:**
- –ê–ª–≥–æ—Ä–∏—Ç–º –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤
- –ü—Ä–∞–≤–∏–ª–∞ –æ–±–º–µ–Ω–∞ –Ω–∞ –Ω–∞–≥—Ä–∞–¥—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤

#### üìñ –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ:**

1. **–ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:**
```javascript
/* 
 * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: ParentConfirm.jsx
 * –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –ø–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –¥–µ—Ç—å–º–∏
 * –ê–≤—Ç–æ—Ä: [–ò–ú–Ø]
 * –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: [–î–ê–¢–ê]
 * 
 * –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
 * - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
 * - –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
 * - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á
 * - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏
 * 
 * –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
 * - supabase –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
 * - framer-motion –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
 * - react-hooks –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
 * 
 * –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î:
 * - tasks (–æ—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
 * - history (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π)
 * - users (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–º—å–µ)
 */
```

2. **README –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** (–≤ –ø–∞–ø–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞):
```markdown
# ParentConfirm Component

## –û–ø–∏—Å–∞–Ω–∏–µ
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é –∑–∞–¥–∞—á –¥–µ—Ç–µ–π.

## Props
- `familyId` (string) - ID —Å–µ–º—å–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á
- `onTaskUpdate` (function) - –ö–æ–ª–ª–±—ç–∫ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏

## –°–æ—Å—Ç–æ—è–Ω–∏–µ
- `pendingTasks` - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –æ–∂–∏–¥–∞—é—â–∏—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- `loading` - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- `error` - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

## –ú–µ—Ç–æ–¥—ã
### confirmTask(taskId, rewardAmount)
–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏ –Ω–∞—á–∏—Å–ª—è–µ—Ç –Ω–∞–≥—Ä–∞–¥—É
```

#### üß™ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**1. –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤
- –®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

**2. –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º—å–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
INSERT INTO families (family_name) VALUES ('–¢–µ—Å—Ç–æ–≤–∞—è —Å–µ–º—å—è');

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è
INSERT INTO users (email, role, family_id) VALUES 
('parent@test.com', 'parent', 'FAMILY_ID');

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞  
INSERT INTO users (email, role, family_id) VALUES 
('child@test.com', 'child', 'FAMILY_ID');
```

#### üìä –û—Ç—á–µ—Ç—ã –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ

**1. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã:**
- –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –í—Å—Ç—Ä–µ—Ç–∏–≤—à–∏–µ—Å—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –ü–ª–∞–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

**2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥:**
- –°–ø–∏—Å–æ–∫ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- –ü–ª–∞–Ω—ã –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### üîç –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ:**
- [ ] –í—Å–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω TODO.md —Å —Ç–µ–∫—É—â–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ –ë–î (–µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

#### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```
/docs
  ‚îú‚îÄ‚îÄ ARCHITECTURE.md     # –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  ‚îú‚îÄ‚îÄ DATABASE.md         # –°—Ö–µ–º–∞ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –ë–î  
  ‚îú‚îÄ‚îÄ COMPONENTS.md       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  ‚îú‚îÄ‚îÄ API.md              # –û–ø–∏—Å–∞–Ω–∏–µ API Supabase
  ‚îú‚îÄ‚îÄ TESTING.md          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
  ‚îú‚îÄ‚îÄ DEPLOYMENT.md       # –ü—Ä–æ—Ü–µ–¥—É—Ä—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
  ‚îî‚îÄ‚îÄ TROUBLESHOOTING.md  # –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
```

### üéØ –¶–µ–ª—å –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

1. **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** - –Ω–æ–≤—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±—ã—Å—Ç—Ä–æ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç
2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞** - –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å  
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —á–µ—Ç–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —è–≤–Ω–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

> **–í–ê–ñ–ù–û:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –û–î–ù–û–í–†–ï–ú–ï–ù–ù–û —Å –∫–æ–¥–æ–º, –∞ –Ω–µ –ø–æ—Å—Ç—Ñ–∞–∫—Ç—É–º!

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞ "table does not exist"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ SQL-—Å–∫—Ä–∏–ø—Ç `create_tasks_schema.sql`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –û—à–∏–±–∫–∞ "column does not exist" (stars_change, money_change, reward_id –∏ –¥—Ä.)
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∏ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç–æ–ª–±—Ü–∞–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö history, tasks, rewards

**üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–û–ï –†–ï–®–ï–ù–ò–ï - –ü–õ–ê–ù –†–ï–í–ò–ó–ò–ò –ë–î:**
1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:** `scripts/database_audit.sql`
2. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:** `scripts/fix_database_schema.sql` 
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ —Å—Ç–æ–ª–±—Ü—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

**–†–µ—à–µ–Ω–∏–µ 1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ):**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `create_tasks_schema.sql` –≤–µ—Ä—Å–∏–∏ 2.1
- –°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å:
  - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã `families` –∏ `users` –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
  - ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç–æ–ª–±–µ—Ü reward_id –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π
  - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ constraints

**–†–µ—à–µ–Ω–∏–µ 2 (—Ä—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–∞):**
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ —á–∞—Å—Ç—è–º –≤ SQL Editor:
```sql
-- 1. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç–æ–ª–±–µ—Ü reward_id –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
ALTER TABLE public.history ADD COLUMN IF NOT EXISTS reward_id UUID;

-- 2. –ó–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ constraint
ALTER TABLE public.history DROP CONSTRAINT IF EXISTS history_reward_id_fkey;
ALTER TABLE public.history 
ADD CONSTRAINT history_reward_id_fkey 
FOREIGN KEY (reward_id) REFERENCES public.rewards(id) ON DELETE SET NULL;
```

**–†–µ—à–µ–Ω–∏–µ 3 (–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã):**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ —Å—Ç–æ–ª–±—Ü–æ–≤:
```sql
-- 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN ('tasks', 'history', 'rewards', 'users', 'families')
ORDER BY table_name;

-- 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã history
SELECT column_name, data_type, is_nullable
FROM information_schema.columns 
WHERE table_schema = 'public' AND table_name = 'history'
ORDER BY ordinal_position;

-- 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã rewards
SELECT column_name, data_type, is_nullable
FROM information_schema.columns 
WHERE table_schema = 'public' AND table_name = 'rewards'
ORDER BY ordinal_position;

-- 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π
SELECT 
    tc.constraint_name, 
    tc.table_name, 
    kcu.column_name, 
    ccu.table_name AS foreign_table_name,
    ccu.column_name AS foreign_column_name 
FROM information_schema.table_constraints AS tc 
JOIN information_schema.key_column_usage AS kcu
  ON tc.constraint_name = kcu.constraint_name
  AND tc.table_schema = kcu.table_schema
JOIN information_schema.constraint_column_usage AS ccu
  ON ccu.constraint_name = tc.constraint_name
  AND ccu.table_schema = tc.table_schema
WHERE tc.constraint_type = 'FOREIGN KEY' 
  AND tc.table_schema='public'
  AND tc.table_name IN ('history', 'tasks', 'rewards');
```

**–†–µ—à–µ–Ω–∏–µ 4 (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏):**
–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ `column "id" referenced in foreign key constraint does not exist` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–∞–±–ª–∏—Ü—É `rewards`:
```sql
-- 1. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤—Ä—É—á–Ω—É—é
CREATE TABLE IF NOT EXISTS public.families (
  family_id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  family_name VARCHAR(255) NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc'::text, NOW()) NOT NULL
);

CREATE TABLE IF NOT EXISTS public.users (
  id UUID PRIMARY KEY,
  email VARCHAR(255),
  role VARCHAR(20) DEFAULT 'child',
  family_id UUID REFERENCES public.families(family_id)
);

-- 2. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤–µ—Å—å —Å–∫—Ä–∏–ø—Ç create_tasks_schema.sql
```

**–†–µ—à–µ–Ω–∏–µ 5 (–∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π - –ø–æ–ª–Ω–æ–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ):**
```sql
-- –£–¥–∞–ª–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ
DROP TABLE IF EXISTS public.history CASCADE;
DROP TABLE IF EXISTS public.tasks CASCADE;  
DROP TABLE IF EXISTS public.rewards CASCADE;
DROP TABLE IF EXISTS public.users CASCADE;
DROP TABLE IF EXISTS public.families CASCADE;
-- –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤–µ—Å—å —Å–∫—Ä–∏–ø—Ç –∑–∞–Ω–æ–≤–æ
```

### –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ bucket `task-proofs` —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ –ø—É–±–ª–∏—á–Ω—ã–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ Storage –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ó–∞–¥–∞—á–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Å—Ç–æ–∏—Ç –≤ —Å–µ–º—å–µ (family_id –Ω–µ NULL)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–æ–ª—å—é 'child'
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ó–∞–¥–∞—á–∏"
3. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ SQL –∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—è
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ

## üéâ –ì–æ—Ç–æ–≤–æ!

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç Tasks.jsx –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º—É Family Task Manager!

