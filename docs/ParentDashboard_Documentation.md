# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ParentDashboard.jsx

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**ParentDashboard** - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Family Task Manager. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è–º –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–∏—Å—Ç–µ–º–æ–π –∑–∞–¥–∞—á, –≤–∫–ª—é—á–∞—è —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π, –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞–≥—Ä–∞–¥.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
ParentDashboard/
‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ parent)
‚îú‚îÄ‚îÄ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–∫–ª–∞–¥–∫–∞–º
‚îú‚îÄ‚îÄ –û–±–∑–æ—Ä —Å–µ–º—å–∏ (overview)
‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á (create)  
‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞—á (pending)
‚îî‚îÄ‚îÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥–∞–º–∏ (rewards)
```

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```javascript
const [activeTab, setActiveTab] = useState('overview')           // –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
const [user, setUser] = useState(null)                          // –ü—Ä–æ—Ñ–∏–ª—å —Ä–æ–¥–∏—Ç–µ–ª—è
const [familyChildren, setFamilyChildren] = useState([])        // –î–µ—Ç–∏ —Å–µ–º—å–∏
const [pendingTasks, setPendingTasks] = useState([])           // –ó–∞–¥–∞—á–∏ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ
const [loading, setLoading] = useState(true)                   // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
const [error, setError] = useState(null)                       // –û—à–∏–±–∫–∏
const [newTask, setNewTask] = useState({...})                  // –§–æ—Ä–º–∞ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
const [processingTasks, setProcessingTasks] = useState({})     // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á
const [rejectionReasons, setRejectionReasons] = useState({})   // –ü—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
```

## üîê –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
```javascript
// –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—å—é 'parent' –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
if (profile.role !== 'parent') {
  setError('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Ä–æ–¥–∏—Ç–µ–ª—è–º.')
  return
}
```

### RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (Row Level Security)
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–µ–π**: `parents_can_view_family_children`
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á**: `parents_can_confirm_reject_tasks`  
- **–°–æ–∑–¥–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏**: `parents_can_create_history`

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –û–±–∑–æ—Ä —Å–µ–º—å–∏ (Overview Tab)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π —Å–µ–º—å–∏

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –°–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π —Å–µ–º—å–∏ —Å –¥–∞—Ç–∞–º–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á, –æ–∂–∏–¥–∞—é—â–∏—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)

**–ó–∞–ø—Ä–æ—Å—ã –∫ –ë–î:**
```javascript
// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ç–µ–π —Å–µ–º—å–∏
const { data: children } = await supabase
  .from('users')
  .select('id, email, phone, created_at')
  .eq('family_id', user.family_id)
  .eq('role', 'child')
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á (Create Tab)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á –¥–ª—è –¥–µ—Ç–µ–π

**–ü–æ–ª—è —Ñ–æ—Ä–º—ã:**
- `title` - –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `description` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- `priority` - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (low/medium/high)
- `assigned_to_id` - –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–µ—Ç–µ–π (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `due_date` - –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `reward` - –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥ (–∑–≤–µ–∑–¥–æ—á–∫–∏/–¥–µ–Ω—å–≥–∏/–≤—Ä–µ–º—è)

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
```javascript
if (!newTask.title.trim() || !newTask.assigned_to_id) {
  setError('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å')
  return
}
```

**–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:**
```javascript
const taskData = {
  title: newTask.title.trim(),
  description: newTask.description.trim(),
  priority: newTask.priority,
  assigned_to_id: newTask.assigned_to_id,
  assigned_by_id: user.id,
  family_id: user.family_id,
  due_date: newTask.due_date || null,
  reward: newTask.reward,
  status: 'pending'
}
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞—á (Pending Tab)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'completed'
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á (‚Üí 'confirmed')
- –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã (‚Üí 'rejected' ‚Üí 'pending')

**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏:**
```javascript
const handleConfirmTask = async (taskId) => {
  const { error } = await supabase
    .from('tasks')
    .update({ 
      status: 'confirmed',
      confirmed_at: new Date().toISOString()
    })
    .eq('id', taskId)
  
  // –¢—Ä–∏–≥–≥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª–∏—Ç –Ω–∞–≥—Ä–∞–¥—ã –≤ —Ç–∞–±–ª–∏—Ü—É history
}
```

**–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏:**
```javascript
const handleRejectTask = async (taskId) => {
  const { error } = await supabase
    .from('tasks')
    .update({ 
      status: 'rejected',
      rejection_reason: reason.trim()
    })
    .eq('id', taskId)
  
  // –¢—Ä–∏–≥–≥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–æ—Å–∏—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ 'pending'
}
```

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥–∞–º–∏ (Rewards Tab)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –Ω–∞–≥—Ä–∞–¥ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞–≥—Ä–∞–¥
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—É—Ä—Å–æ–≤ –æ–±–º–µ–Ω–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø—Ä–∏–∑–æ–≤

## üé® UI/UX –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞
```javascript
// –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
const COLORS = {
  primary: 'minecraft-green',      // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
  secondary: 'minecraft-blue',     // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π
  error: 'red-500',               // –û—à–∏–±–∫–∏
  warning: 'yellow-500',          // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
  success: 'green-500'            // –£—Å–ø–µ—Ö
}

// –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞
font-family: "Press Start 2P", "Courier New", monospace  // Pixel-art —à—Ä–∏—Ñ—Ç
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–¥–∞—á
```javascript
const TASK_PRIORITY = {
  low: { label: '–ù–∏–∑–∫–∏–π', color: 'text-green-600', bg: 'bg-green-100', icon: 'üü¢' },
  medium: { label: '–°—Ä–µ–¥–Ω–∏–π', color: 'text-yellow-600', bg: 'bg-yellow-100', icon: 'üü°' },
  high: { label: '–í—ã—Å–æ–∫–∏–π', color: 'text-red-600', bg: 'bg-red-100', icon: 'üî¥' }
}
```

### –ê–Ω–∏–º–∞—Ü–∏–∏ (Framer Motion)
```javascript
// –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
<AnimatePresence mode="wait">
  <motion.div
    initial={{ opacity: 0, y: 20 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: -20 }}
  >
```

### –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞
```css
/* Responsive layout */
grid-cols-1 md:grid-cols-2 lg:grid-cols-3  /* 1/2/3 –∫–æ–ª–æ–Ω–∫–∏ */
max-w-6xl mx-auto px-4                     /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ */
space-y-4                                  /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞—á

### –°—Ö–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
```
pending ‚Üí in_progress ‚Üí completed ‚Üí confirmed/rejected
   ‚Üë                                        ‚Üì
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ rejected ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
1. **–ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏** (`confirmed`):
   - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ –≤ `history`
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `confirmed_at`

2. **–ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏** (`rejected`):
   - –°–±—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `pending`
   - –û—á–∏—Å—Ç–∫–∞ `completed_at` –∏ `proof_url`
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `rejection_reason`

## üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**–ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ç–µ–π —Å–µ–º—å–∏:**
```sql
SELECT id, email, phone, created_at
FROM public.users 
WHERE family_id = $1 AND role = 'child'
ORDER BY created_at ASC
```

**–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ:**
```sql
SELECT t.*, 
       u1.email as assigned_user_email,
       u2.email as created_user_email
FROM public.tasks t
JOIN public.users u1 ON t.assigned_to_id = u1.id
JOIN public.users u2 ON t.assigned_by_id = u2.id
WHERE t.family_id = $1 AND t.status = 'completed'
ORDER BY t.completed_at DESC
```

**–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:**
```sql
INSERT INTO public.tasks (
  title, description, priority, assigned_to_id, 
  assigned_by_id, family_id, due_date, reward, status
) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, 'pending')
```

### –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- **`tasks`** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á
- **`users`** - –ø—Ä–æ—Ñ–∏–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∏ –¥–µ—Ç–µ–π  
- **`families`** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–º—å—è—Ö
- **`history`** - –∏—Å—Ç–æ—Ä–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞–≥—Ä–∞–¥
- **`storage.objects`** - —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ)
```javascript
// –¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
test('should deny access for non-parent users', () => {
  const childUser = { role: 'child' }
  expect(checkParentAccess(childUser)).toBe(false)
})

// –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã
test('should validate required fields', () => {
  const emptyTask = { title: '', assigned_to_id: '' }
  expect(validateTaskForm(emptyTask)).toContain('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è')
})
```

### E2E —Ç–µ—Å—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ)
```javascript
// –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
test('parent can create and confirm task', async () => {
  await loginAsParent()
  await createTask({ title: 'Test Task', assigned_to: childId })
  await loginAsChild()
  await completeTask(taskId)
  await loginAsParent()
  await confirmTask(taskId)
  expect(await getTaskStatus(taskId)).toBe('confirmed')
})
```

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–æ–∫
```javascript
// 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const PARENT_TABS = {
  // ... existing tabs
  analytics: { id: 'analytics', label: '–ê–Ω–∞–ª–∏—Ç–∏–∫–∞', icon: 'üìà' }
}

// 2. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const [analyticsData, setAnalyticsData] = useState([])

// 3. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
{activeTab === 'analytics' && (
  <AnalyticsTab data={analyticsData} />
)}
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–∞–≥—Ä–∞–¥
```javascript
// –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –Ω–∞–≥—Ä–∞–¥
const REWARD_TYPES = {
  stars: { label: '–ó–≤–µ–∑–¥–æ—á–∫–∏', icon: '‚≠ê', unit: '—à—Ç' },
  money: { label: '–î–µ–Ω—å–≥–∏', icon: 'üí∞', unit: '—Ä—É–±' },
  screen_time: { label: '–≠–∫—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è', icon: 'üéÆ', unit: '–º–∏–Ω' },
  points: { label: '–û—á–∫–∏ –æ–ø—ã—Ç–∞', icon: 'üèÜ', unit: 'XP' }  // –Ω–æ–≤—ã–π —Ç–∏–ø
}
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** —Å `React.memo()`
2. **Debounce** –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
3. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è** –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á
4. **Lazy loading** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
const { data: children, isLoading } = useQuery(
  ['family-children', user.family_id],
  () => loadFamilyChildren(user.family_id),
  { staleTime: 5 * 60 * 1000 } // 5 –º–∏–Ω—É—Ç
)
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```env
REACT_APP_SUPABASE_URL=your_supabase_url
REACT_APP_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
```javascript
// –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º
const DEPLOYMENT_CHECKLIST = [
  'RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã',
  'Storage bucket —Å–æ–∑–¥–∞–Ω',
  '–¢—Ä–∏–≥–≥–µ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç',
  '–ò–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã',
  '–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç'
]
```

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
```javascript
// –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
const logError = (error, context) => {
  console.error(`[ParentDashboard] ${context}:`, error)
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
}
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫ API  
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç **ParentDashboard.jsx** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–º–µ–π–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–µ–π –¥–µ—Ç–µ–π —á–µ—Ä–µ–∑ –∏–≥—Ä–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞–≥—Ä–∞–¥.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üîê –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
- üéÆ –ì–µ–π–º–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚ö° –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üõ†Ô∏è –õ–µ–≥–∫–∞—è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
